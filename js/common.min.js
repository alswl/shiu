(function(){var a={init:function b(e,d){return openDatabase("documents","1.0","Offline document storage",50*1024*1024,function(f){f.changeVersion("","1.0",function(g){g.executeSql("CREATE TABLE book (title, content)")},d)})},get:function(e){try{return JSON.parse(window.localStorage.getItem(e))}catch(d){return null}},set:function(d,f){try{window.localStorage.setItem(d,JSON.stringify(f))}catch(g){alert("存储失败！");throw g}},};var c={numberToChinese:function(l){var e="个十百千万@#%亿^&~";var k="零一二三四五六七八九";var d=(l+"").split(""),h=[];if(d.length>12){throw new Error("too big")}else{for(var g=0,f=d.length-1;g<=f;g++){if(f==1||f==5||f==9){if(g==0){if(d[g]!="1"){h.push(k.charAt(d[g]))}}else{h.push(k.charAt(d[g]))}}else{h.push(k.charAt(d[g]))}if(g!=f){h.push(e.charAt(f-g))}}}return h.join("").replace(/零([十百千万亿@#%^&~])/g,function(j,n,i){i=e.indexOf(n);if(i!=-1){if(n=="亿"){return n}if(n=="万"){return n}if(d[f-i]=="0"){return"零"}}return""}).replace(/零+/g,"零").replace(/零([万亿])/g,function(j,i){return i}).replace(/亿[万千百]/g,"亿").replace(/[零]$/,"").replace(/[@#%^&~]/g,function(i){return{"@":"十","#":"百","%":"千","^":"十","&":"百","~":"千"}[i]}).replace(/([亿万])([一-九])/g,function(j,n,i,o){o=e.indexOf(n);if(o!=-1){if(d[f-o]=="0"){return n+"零"+i}}return j})}};window.db=a;window.Util=c})();