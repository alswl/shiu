(function(n){var t={style:true,startOnLoad:true};for(var e in n.phantomLimbConfig){t[e]=n.phantomLimbConfig[e]}var u=false;function a(){this.node=document.createElement("span");this.node.classList.add("_phantom-limb_finger");document.body.appendChild(this.node)}a.prototype={node:null,x:NaN,y:NaN,target:null,place:function(){document.body.appendChild(this.node)},hide:function(){this.node.style.display="none"},show:function(){this.node.style.display=""},move:function(w,z){if(isNaN(w)||isNaN(z)){this.hide();this.target=null}else{this.show();this.node.style.left=w+"px";this.node.style.top=z+"px";this.x=w;this.y=z;if(!u){this.target=document.elementFromPoint(w,z)}}}};var m=[new a(),new a()];function r(x,w,y){var z=document.createEvent("MouseEvent");z.initMouseEvent(x,true,true,w.view,w.detail,y.x||w.screenX,y.y||w.screenY,y.x||w.clientX,y.y||w.clientY,w.ctrlKey,w.shiftKey,w.altKey,w.metaKey,w.button,y.target||w.relatedTarget);z.synthetic=true;z._finger=y;return z}var k=NaN;var o=NaN;function b(D,z){var G=[];var C=[];m.forEach(function(y){if(!y.target){return}var I="on"+D;if(I in y.target){console.warn("Converting `"+I+"` property to event listener.",y.target);y.target.addEventListener(D,y.target[I],false);delete y.target[I]}if(y.target.hasAttribute(I)){console.warn("Converting `"+I+"` attribute to event listener.",y.target);var x=new n.Function("event",y.target.getAttribute(I));y.target.addEventListener(D,x,false);y.target.removeAttribute(I)}var H=r(D,z,y);G.push(H)});if(G.length>1){var F=G[0].pageX-G[1].pageX;var E=G[0].pageY-G[1].pageY;var w=Math.sqrt(Math.pow(F,2)+Math.pow(E,2));var A=Math.atan2(F,E)*(180/Math.PI);var B="gesturechange";if(D==="touchstart"){B="gesturestart";k=w;o=A}if(D==="touchend"){B="gestureend"}G.forEach(function(y){var x=r(B,y,y._finger);C.push(x)});G.concat(C).forEach(function(x){x.scale=w/k;x.rotation=o-A})}G.forEach(function(x){x.touches=G.filter(function(y){return ~y.type.indexOf("touch")&&y.type!=="touchend"});x.changedTouches=G.filter(function(y){return ~y.type.indexOf("touch")&&y._finger.target===x._finger.target});x.targetTouches=x.changedTouches.filter(function(y){return ~y.type.indexOf("touch")&&y.type!=="touchend"})});G.concat(C).forEach(function(y,x){y.identifier=x;y._finger.target.dispatchEvent(y)})}function f(w){if(w.synthetic){return}u=true;w.preventDefault();w.stopPropagation();b("touchstart",w)}var i=NaN;var h=NaN;function d(y){var A=y.clientX-m[0].x||0;var z=y.clientY-m[0].y||0;m[0].move(y.clientX,y.clientY);if(y.altKey){if(!i&&!h){i=window.innerWidth/2;h=window.innerHeight/2}if(y.shiftKey){i+=A;h+=z}var x=i+(i-y.clientX);var w=h+(h-y.clientY);m[1].move(x,w)}else{m[1].move(NaN,NaN);i=NaN;h=NaN}}function p(w){if(w.synthetic){return}w.preventDefault();w.stopPropagation();d(w);if(u){b("touchmove",w)}}function j(w){if(w.synthetic){return}u=false;w.preventDefault();w.stopPropagation();b("touchend",w);m.forEach(function(x){if(!x.target){return}x.target.dispatchEvent(r("mouseover",w,x));x.target.dispatchEvent(r("mousemove",w,x));x.target.dispatchEvent(r("mousedown",w,x));x.target.dispatchEvent(r("mouseup",w,x));x.target.dispatchEvent(r("click",w,x))})}function g(w){if(w.synthetic){return}w.preventDefault();w.stopPropagation()}var v=(["._phantom-limb,","._phantom-limb a {","cursor: none !important;","}","._phantom-limb_finger {","background: rgba(128, 128, 128, 0.5);","border: 2px solid rgb(128, 128, 128);","border-radius: 50%;","display: none;","height: 44px;","margin: -22px 0 0 -22px;","pointer-events: none;","position: fixed;","width: 44px;","z-index: 999999}","._phantom-limb ._phantom-limb_finger {","display: block;","}"]).join("\n");var q=document.createElement("style");q.id="_phantom-limb_default-style";q.innerHTML=v;if(t.style){document.querySelector("head").appendChild(q)}function c(){document.addEventListener("mousedown",f,true);document.addEventListener("mousemove",p,true);document.addEventListener("mouseup",j,true);document.addEventListener("click",g,true);document.documentElement.classList.add("_phantom-limb")}function l(){document.removeEventListener("mousedown",f,true);document.removeEventListener("mousemove",p,true);document.removeEventListener("mouseup",j,true);document.removeEventListener("click",g,true);document.documentElement.classList.remove("_phantom-limb")}var s={start:c,stop:l};if(typeof n.define==="function"){n.define(s)}else{if(typeof n.exports!=="undefined"){n.exports=s}else{n.phantomLimb=s}}if(t.startOnLoad){c()}}(this));